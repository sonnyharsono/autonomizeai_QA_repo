[pytest]
# Minimum version of pytest required
minversion = 7.0

# CLI options: 
# -ra: show extra test summary info
# -q: quiet mode (less clutter)
# --html: generate professional report
# --self-contained-html: avoids separate CSS/JS files (easier to share)
addopts = -ra -q --html=report.html --self-contained-html

# Directory where tests are located
testpaths = tests

# Custom markers documentation (prevents warnings)
markers =
    critical: Critical path safety tests that act as a release gate.
    integration: Tests validating the interaction between system components.
    agent: Tests focused on the NLP Extraction Agent logic.
    model_integration: Tests validating the Clinical Risk Model inference.
    ui: Frontend and User Experience tests using Playwright.
    regression: Tests to ensure previous bugs remain fixed.
    negative: Tests designed to verify error handling and resilience.

# Logging configuration for cleaner GitHub Actions output
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %Y-%m-%d %H:%M:%S

# This forces logs to be captured in the HTML report even for PASSED tests
log_display_level = INFO
log_html_report = true
